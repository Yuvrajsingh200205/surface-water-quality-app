{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import Header from'./components/Header';import DataTable from'./components/DataTable';import Footer from'./components/Footer';// Main App component: Fetches data from API and manages state\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);// State to hold fetched data\nconst[loading,setLoading]=useState(true);// Loading state\nconst[error,setError]=useState(null);// Error state\nconst[searchTerm,setSearchTerm]=useState('');// Search term for filtering\n// API endpoint with new key and parameters\nconst API_URL='/api/resource/19697d76-442e-4d76-aeae-13f8a17c91e1?api-key=579b464db66ec23bdd00000150ce6d3e24a94d895052b46f3eca3bda&format=json&limit=100';// Fetch data on component mount\nuseEffect(()=>{fetch(API_URL).then(response=>{if(!response.ok){throw new Error(\"Network response was not ok: \".concat(response.status,\" - \").concat(response.statusText));}return response.json();}).then(json=>{console.log('API Response:',json);// Log the full response for debugging\n// Handle different possible response structures\nif(json.records&&Array.isArray(json.records)){setData(json.records);}else if(json.data&&Array.isArray(json.data)){setData(json.data);}else if(Array.isArray(json)){setData(json);}else{setData([]);console.warn('No recognizable data structure found in API response:',json);}setLoading(false);}).catch(err=>{console.error('Error fetching data:',err);// Log the error for debugging\nsetError(err.message);setLoading(false);});},[]);// Empty dependency array: run once on mount\n// Filter data based on search term (searches in Station_Name and State)\nconst filteredData=data.filter(item=>item.Station_Name&&item.Station_Name.toLowerCase().includes(searchTerm.toLowerCase())||item.State&&item.State.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by station or state...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\"})}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading data...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error,\". Please check the console for details or try again later.\"]}),!loading&&!error&&data.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No data available.\"}),!loading&&!error&&data.length>0&&/*#__PURE__*/_jsx(DataTable,{data:filteredData})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","DataTable","Footer","jsx","_jsx","jsxs","_jsxs","App","data","setData","loading","setLoading","error","setError","searchTerm","setSearchTerm","API_URL","fetch","then","response","ok","Error","concat","status","statusText","json","console","log","records","Array","isArray","warn","catch","err","message","filteredData","filter","item","Station_Name","toLowerCase","includes","State","className","children","type","placeholder","value","onChange","e","target","length"],"sources":["/Users/yuvrajsingh/Downloads/Developer/yashhhh/surface-water-quality-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport DataTable from './components/DataTable';\nimport Footer from './components/Footer';\n\n// Main App component: Fetches data from API and manages state\nfunction App() {\n  const [data, setData] = useState([]); // State to hold fetched data\n  const [loading, setLoading] = useState(true); // Loading state\n  const [error, setError] = useState(null); // Error state\n  const [searchTerm, setSearchTerm] = useState(''); // Search term for filtering\n\n  // API endpoint with new key and parameters\n  const API_URL = '/api/resource/19697d76-442e-4d76-aeae-13f8a17c91e1?api-key=579b464db66ec23bdd00000150ce6d3e24a94d895052b46f3eca3bda&format=json&limit=100';\n\n  // Fetch data on component mount\n  useEffect(() => {\n    fetch(API_URL)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`Network response was not ok: ${response.status} - ${response.statusText}`);\n        }\n        return response.json();\n      })\n      .then(json => {\n        console.log('API Response:', json); // Log the full response for debugging\n        // Handle different possible response structures\n        if (json.records && Array.isArray(json.records)) {\n          setData(json.records);\n        } else if (json.data && Array.isArray(json.data)) {\n          setData(json.data);\n        } else if (Array.isArray(json)) {\n          setData(json);\n        } else {\n          setData([]);\n          console.warn('No recognizable data structure found in API response:', json);\n        }\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Error fetching data:', err); // Log the error for debugging\n        setError(err.message);\n        setLoading(false);\n      });\n  }, []); // Empty dependency array: run once on mount\n\n  // Filter data based on search term (searches in Station_Name and State)\n  const filteredData = data.filter(item =>\n    (item.Station_Name && item.Station_Name.toLowerCase().includes(searchTerm.toLowerCase())) ||\n    (item.State && item.State.toLowerCase().includes(searchTerm.toLowerCase()))\n  );\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <main>\n        <div className=\"search-container\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by station or state...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"search-input\"\n          />\n        </div>\n        {loading && <p>Loading data...</p>}\n        {error && <p>Error: {error}. Please check the console for details or try again later.</p>}\n        {!loading && !error && data.length === 0 && <p>No data available.</p>}\n        {!loading && !error && data.length > 0 && <DataTable data={filteredData} />}\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}